<div class="flex flex-col h-full">
  <div #chatMessages class="flex-1 overflow-y-auto p-4 bg-gray-500">
    <!-- Chat messages will be displayed here -->
    <div *ngFor="let message of messages"
         [ngClass]="{
           'ml-auto bg-blue-500 text-white': isCurrentUser(message.senderId),
           'mr-auto bg-green-500': !isCurrentUser(message.senderId)
         }"
         class="max-w-[70%] rounded-lg shadow-sm p-3 mb-4 relative">
      <p class="break-words">{{ message.messageText }}</p>
      <span class="text-xs opacity-70 absolute bottom-1 right-2">
        {{ formatMessageTime(message.createdAt) }}
      </span>
    </div>
  </div>

  <div class="flex items-center gap-2 p-4 border-t border-gray-200 bg-gray-600">
    <input type="text"
           [(ngModel)]="message"
           placeholder="Type a message"
           (keyup.enter)="sendMessage()"
           class="flex-1 px-4 py-2 border border-gray-400 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
    <button 
      [disabled]="!message.trim()" 
      (click)="sendMessage()"
      [ngClass]="{'opacity-50 cursor-not-allowed': !message.trim(), 'hover:bg-blue-600': message.trim()}"
      class="px-6 py-2 bg-gray-900 text-white rounded-full transition-colors duration-200">
      Send
    </button>
  </div>
</div>