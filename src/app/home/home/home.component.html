<div class="flex min-h-screen bg-gray-100">
  <!-- Toggle Navbar Button -->
  <button 
    (click)="toggleNavbar()"
    class="fixed top-4 left-4 z-50 p-2 bg-blue-600 text-white rounded-full shadow-lg focus:outline-none"
  >
    <svg 
      class="w-6 h-6" 
      fill="none" 
      stroke="currentColor" 
      viewBox="0 0 24 24"
    >
      <path 
        stroke-linecap="round" 
        stroke-linejoin="round" 
        stroke-width="2" 
        d="M4 6h16M4 12h16m-7 6h7"
      />
    </svg>
  </button>

  <!-- Navbar with sessions passed as input -->
  <app-navbar 
    *ngIf="isNavbarVisible" 
    [allSessions]="allSessions"
    (toggleNavbar)="toggleNavbar()">
  </app-navbar>
  
  <!-- Main Content -->
  <div [class.ml-64]="isNavbarVisible" class="flex-1">
    <div class="min-h-screen flex items-center justify-center bg-gray-50 px-4">
        <div class="w-full max-w-2xl">
            <!-- Website name -->
            <div class="text-center mb-8">
                <h1 class="text-5xl font-bold text-blue-600 tracking-tight">Ariyoo</h1>
                <p class="mt-2 text-gray-600">Ask anything!</p>
            </div>
            
            <!-- Main input container -->
            <div class="bg-white rounded-lg shadow-xl border border-gray-200">
                <!-- Selected Tags -->
                <div class="px-4 pt-4 flex flex-wrap gap-2">
                    <div *ngFor="let tag of selectedTags" 
                         class="bg-blue-100 text-blue-800 px-2 py-1 rounded-md text-sm flex items-center gap-2">
                        <span>#{{tag.tagName}}</span>
                        <button 
                            (click)="removeTag(tag)" 
                            class="hover:text-red-600 focus:outline-none"
                            aria-label="Remove tag"
                        >
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <form class="p-4">
                    <div class="relative">
                        <!-- Text input area -->
                        <textarea 
                            #messageInput
                            [(ngModel)]="message"
                            name="message"
                            rows="1"
                            (input)="onMessageInput($event)"
                            class="w-full resize-none rounded-lg border border-gray-200 bg-white pl-4 pr-12 py-3 text-sm focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600"
                            placeholder="Send a message..."
                            style="min-height: 44px;"
                        ></textarea>
                        
                        <!-- Tag suggestions -->
                        <div *ngIf="showTagSuggestions" 
                             class="absolute bottom-full left-0 w-full mb-2 bg-white rounded-lg shadow-lg border border-gray-200 max-h-48 overflow-y-auto">
                            <div *ngFor="let tag of filteredTags" 
                                 (click)="selectTag(tag)"
                                 class="px-4 py-2 hover:bg-gray-50 cursor-pointer flex items-center gap-2">
                                <span class="text-blue-600">#</span>
                                <span>{{tag.tagName}}</span>
                            </div>
                        </div>

                        <!-- Send button -->
                        <button 
                            (click)="askQuery()"
                            class="absolute right-2 bottom-2 p-1 rounded-md text-gray-500 hover:text-blue-600 transition-colors"
                        >
                            <svg 
                                class="w-5 h-5" 
                                fill="none" 
                                stroke="currentColor" 
                                viewBox="0 0 24 24"
                            >
                                <path 
                                    stroke-linecap="round" 
                                    stroke-linejoin="round" 
                                    stroke-width="2" 
                                    d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"
                                />
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
  </div>
</div>